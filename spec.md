# Legerdemain
- TITLES?
    - ledgerdemain
    - Iniquitous

- WORLD
    - top down
    - tiled world in the style of Merlin's Revenge 2
- SPELLS
    - MECHANICS:
      - spells are combinations of letters
      - some sequenced, some simultaneous
      - e.g.
          - `a + s + d + f`
          - `asdf`
          - `c + h + io`
          - `eb, ci, dh`

      - spells consume energy
          - vigor?
          - verve?
          - brio?
      - mistyped spells result in corrupted version the spell it's closest too (using leveinstein distance)
      - spells could have grammar?
          - subject + predicate + adverb + object + terminal (spacebar)
          - action + modifier + enter ?
          - rock + move + quickly = ?
          - maybe adverbs are too complicated?
          - who + action
          - power required to effect multiple enemies at once
            - 1 entity = 1 mu
            - 2 entity = 3 mu
            - 3 entity = 6 mu
            - 4 entity = 10 mu
            - all entity = 15 mu
        - errata:
          - maybe mana and managing mana is too complicated. maybe spells have a cooldown required before you can use again to prevent spamming.
          - think deeply about how to communicate that UI to player
              - spell in top left is green when you can invoke it but otherwise red? hmm that's not colorblind safe
              - maybe checkmark or x next to spell you have the mana to cast? or the number of seconds until that spell is cooled down enough to cast??
              - maybe instead of seconds count down it's converted to % ready that way it feels like spell is charging up with might feel good
              - hmm spells go into effect instantly so queueing up spells that go into effect staggered is a little weird.
              - unless the spell won't be invoked until it's cooled down that way you can change your mind
          - OK cooldowns felt bad so I'm going to both remove mana and cooldowns. I've just ramped up the floor spell difficulty so that spamming is a valid strategy if you are quick enough to pull it off.
    - TYPES:
      - ACTIONS
        - ATTACK
          - confusion/fear
          - puppet
              - defense
              - attack
          - gust (blow enemies away)
          - energy drain
              - 1 entity = 4 mu
              - 2 entity = 3 mu
              - 3 entity = 2 mu
              - 4 entity = 1 mu
          - spirit summon
        - UTILITY
          - compass
          - light
          - shield (self 1 mu)
          - detect evil
          - stop time (aka pause to consult spellbook)
          - save flowers (create savepoint)
          - mu flowers (grow mu that you can collect later)
          - health flowers (grows health that you can harvest later)
          - amplify (briefly increase mu efficiency; i.e. decreases mu requirement for spells)
          - perception (relabels enemies. so if you dispatch 1-4 mals 5-8 will be relabled 1-3)
      - INTENT
        - evil
        - neutral (default)
        - good
      - light + person + evil -> sets them on fire
      - light + person + good -> sets them on fire
    - SPELLS 2
        - fireball
        - large-fireball
        - many-fireballs
        - gust
        - mana drain
        - spirit summon
        - compass
        - light
        - shield
        - stop time (aka pause to consult spellbook)
        - save flowers (create savepoint)
        - mu flowers (grow mana that you can collect later)
        - amplify (briefly increase mu efficiency; i.e. decreases mu requirement for spells)
- ART
    - dithered 2d images
        - https://css-tricks.com/grainy-gradients/
    - walking frames of witch/villagers
    - swinging/casting frames
    - terrain
    - ELEMENTS
        - forest
            - grass
            - trees
            - rocks
        - villagers
            - walking
            - attacking
            - different spelled states
        - spirits
        - cabins
        - castle
            - stone

- STORY ?
    - forest?
    - dark tower?
    - angry villagers/woodfolk?
    - motivation?
    - protagonist?

- STORY BOARD 1
  - ACT 1 (school)
    - leave grandma/mother to go to wizard school
    - short journey to school w/ minor non-human encounters
    - school is extended tutorial
  - ACT 2 (tragedy)
    - journey home
    - much more perilous w/ many acrimonious human encounters
    - arrive home to find grandma killed for being a witch
  - ACT 3 (revenge)
    - fight large crowd of villagers attacking you
    - destroy villages
  - ACT 4 (family)
    - journey to aunt's malevolent tower
    - take over mantle of evil sorcerer
    - what's a satisfying conclusion?
- STORY BOARD 2
    - ACT 1
        - travel to the evil tower to study witchcraft
        - encounter non-human enemies
        - essentially an extended tutorial
- STORY BOARD 3
  - title: Crone
  - you are red riding hood and a witch
  - you are on your way to grandmas
  - enemies are monsters from the wood
  - it's kind of a reverse tower defense where you're walking through the woods on a path and monsters are jumping out at you and shooting errors etc.
      - this removes the awkward requirement to also manage movement in addition to spell slinging
  - boss is wolf
  - secret boss is evil woodsman
- STORY BOARD 4
  - you are a witch
  - your grandchildren play in the dark woods
  - night has fallen but they have not returned
  - it is not safe in the woods at night
  - find them
    - you journey through the dark wood. fending off monsters and picking up spells for your spellbook.
    - if you are overwhelmed (aka die) a hooded figure brings you back to your last savepoint
      - figure is spirit of your late husband, a sorcerer, but player won't find that out till later
    - grunts > minibosses > boss
    - in the end you find grandchildren safely in the woodcutter's cabin (their uncle)
- STORY BOARD 4A
  - venture into the dark wood to find your grandchilden
  - find compass spell which leads you to a secret path to your nephew's cabin (the woodcutter) where the children are safe
  - escort mission home
  - grandchildren are assets that fight in rooms now (?)
- STORY BOARD 5
    - The Master’s Tools Will Never Dismantle the Master’s House. Unless that tool is a fireball.

- WHAT CRITICS ARE SAYING
  - senselessly punishing
  - unique art style

- TODO
  - event loop
X     - protagonist walking
!     - spell casting
          - spell effects
            - enemy
            - environment
/         - corrupted effects
X     - enemy animations/AI
X       - enemy walking
        - enemy attacking
  - create art assets
      - finalize art style
  - design game progression / story
      - progressively find spells?

TASKS
  - dialogue system for cutscenes


- https://personal.math.ubc.ca/~cass/frivs/latin/latin-dict-full.html
LATIN:
- madide : drunkenly.
- aranea : spider's web.
- canto : to sing.
- vis : (sing.) violence / a large number, quantity, a force / nature
- xiphias : sword-fish.
- infenso : to attack, avenge.
- utilis : useful, advantageous, helpful.
- celer : quick, swift, rapid, speedy, fast.
- propero : to hasten, speed, move rapidly, come quickly.
- flumen : river.
- ambulo : to walk.
- liber libri : book.
- novo : to make anew, refresh, revive, change, alter, invent.
- navigo : to sail, navigate.
- tendo : to direct one's course, tend, make or head for.
- duo : two
- ter : three times, thrice.
- saepe sepe : hedge, fence, enclosure, haye.

ENEMY TRIANGE:
- hp
- fast
X damage

TODO
- better enemy pathfinding
- enemy environment collisions
- spells
  - compass
      - reveals an arrow towards grandchildren for 2 seconds
  - fireball
      - needs buff. maybe it does not disappear on impact but just goes off the screen. will need to play with that to make sure it doesn't infinite hit enemies it's passing over.
      - I like it going off the screen. maybe enemies have a damage cooldown so that they can't take damage for 1 second after getting hit (or something).
      - that also limits fireball spamming but there needs to be some kind of UI element to communicate the invulnerability window.
      - hmm, I don't like that. too much work for one. maybe fireball itself has a cooldown? It'll be tricky to tune it.
      - hmm I was avoiding this but there's nothing to stop me from having a fireball (all spells really) inited with a uuid.
      - The enemy can log that UUID on hit and then won't take damage from that UUID again. counterintuitively that might be the easiest to implement without gotchas.
      - I could also just add more attack spells and then the exact balance of FIREBALL becomes moot.
      - actually, scrap all that. having fireballs be alterable, ie make-bigger make-two etc fully compensate already and add interesting depth
  - hedgerow: (saepe sepe : hedge, fence, enclosure, haye.)
    - creates a 2 tile (topiary?) hedge that enemies must go around
        - duration is 2 seconds?
  - update spiderweb tile so that is just env trap for you or enemies
- create pre-game tutorial
- figure out how to save game
- minimap
- bookkeeping
    - store which enemies have been defeated on each room. or maybe, you cannot leave a room that has not been cleared? that way we only need to track which rooms have been cleared instead of which enemies are remaining with what health, etc.
